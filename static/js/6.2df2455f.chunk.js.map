{"version":3,"sources":["hoc/withRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/FriendsComponents/Friends.module.css","components/FriendsComponents/FriendsImg/eric-nopanen-624212-unsplash-800x534.jpg","common/Pagination/Pagination.module.css","components/FriendsComponents/Friend.jsx","common/Pagination/Pagination.js","components/FriendsComponents/Friends.jsx","Redux/friendsSelectors.js","components/FriendsComponents/FriendsContainer.jsx"],"names":["mapStateToPropsforRedirect","state","isAuth","Auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Friend","followedA","followed","disabled","followingInProgress","some","id","onClick","setUnfollow","className","stl","followedBtn","setFollow","friend","friendBanner","src","banner","alt","friendPhoto","friendInfo","friendName","Name","status","friendStatus","friendFollowed","Pagination","pages","pagesCounter","Math","ceil","totalFriends","pageSize","portionCounter","useState","currentPortion","setPortion","pagesArray","filter","p","map","pageNum","key","currentPage","selectedPage","onPageNumberClick","pagination","Friends","FriendsElements","friends","photos","small","name","friendsGrid","getFriends","friendsPage","getTotalFriends","getPageSize","getCurrentPage","getIsLoading","isLoading","getFollowingInProgress","FriendsContainer","pageNumber","getUsers","Preloader","compose"],"mappings":"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","file":"static/js/6.2df2455f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsforRedirect = (state) => {\r\n  return {\r\n    isAuth: state.Auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />;\r\n      \r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n  \r\n  let ConnectAuthRedirectComponent = connect(mapStateToPropsforRedirect)\r\n  (RedirectComponent);\r\n\r\n  return ConnectAuthRedirectComponent;\r\n};\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsGrid\":\"Friends_friendsGrid__BkdHm\",\"friend\":\"Friends_friend__1Yo00\",\"friendBanner\":\"Friends_friendBanner__4NZ0v\",\"friendPhoto\":\"Friends_friendPhoto__3BspP\",\"friendInfo\":\"Friends_friendInfo__3Y-zY\",\"Name\":\"Friends_Name__2VVg3\",\"status\":\"Friends_status__-Vx-r\",\"followedBtn\":\"Friends_followedBtn__1077m\"};","module.exports = __webpack_public_path__ + \"static/media/eric-nopanen-624212-unsplash-800x534.8be83e89.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Pagination_selectedPage__1cG7p\",\"pagination\":\"Pagination_pagination__1jJBX\"};","import React from \"react\";\r\nimport stl from \"./Friends.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet Friend = (props) => {\r\n  let followedA = props.followed \r\n  ? (\r\n    <button\r\n      disabled={props.followingInProgress.some((id) => id === props.id)}\r\n      onClick={() => { props.setUnfollow(props.id); }}\r\n      className={stl.followedBtn} >unfollow</button>\r\n  ) : (\r\n    <button\r\n      disabled={props.followingInProgress.some((id) => id === props.id)}\r\n      onClick={() => {props.setFollow(props.id);}}\r\n      className={stl.followedBtn}>follow</button>\r\n  );\r\n\r\n  return (\r\n    <div className={stl.friend}>\r\n      <div className={stl.friendBanner}>\r\n        <img src={props.banner} alt=\"\" />\r\n      </div>\r\n      <NavLink to={\"/profile/\" + props.id}>\r\n        <div className={stl.friendPhoto}>\r\n          <img\r\n            src={props.friendPhoto}\r\n            alt=\"be able friends {props.friendName}\"\r\n          />\r\n        </div>\r\n      </NavLink>\r\n      <div className={stl.friendInfo}>\r\n        <div className={stl.friendName}>\r\n          <p className={stl.Name}>{props.friendName}</p>\r\n          <p className={stl.status}>{props.friendStatus}</p>\r\n        </div>\r\n        <div className={stl.friendFollowed}>{followedA}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friend;\r\n","import React, { useState } from \"react\";\r\nimport stl from \"./Pagination.module.css\";\r\n\r\nlet Pagination = (props) => {\r\n  let pages = [];\r\n  let pagesCounter = Math.ceil(props.totalFriends / props.pageSize);\r\n  for (let i = 1; i <= pagesCounter; i++) {\r\n    pages.push(i);\r\n  }\r\n  const portion = 10;\r\n  let portionCounter = pagesCounter / portion;\r\n  let [currentPortion, setPortion] = useState(1);\r\n\r\n  const PrevPortion = () => {\r\n    setPortion(currentPortion - 1);\r\n  };\r\n\r\n  const NextPortion = () => {\r\n    setPortion(currentPortion + 1);\r\n  };\r\n\r\n  let pagesArray = pages\r\n    .filter(\r\n      (p) => p >= currentPortion * portion - 9 && p <= currentPortion * portion\r\n    )\r\n    .map((pageNum) => {\r\n      return (\r\n        <span\r\n          key={pageNum}\r\n          className={props.currentPage === pageNum ? stl.selectedPage : null}\r\n          onClick={() => props.onPageNumberClick(pageNum)}\r\n        >\r\n          {pageNum}\r\n        </span>\r\n      );\r\n    });\r\n  return (\r\n    <div className={stl.pagination}>\r\n      {currentPortion > 1 && <button onClick={PrevPortion}>prev</button>}\r\n      {pagesArray}\r\n      {currentPortion < portionCounter && (\r\n        <button onClick={NextPortion}>next</button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport stl from \"./Friends.module.css\";\r\nimport Friend from \"./Friend\";\r\nimport friendPhoto from \"../../assets/user.png\";\r\nimport friendBanner from \"./FriendsImg/eric-nopanen-624212-unsplash-800x534.jpg\";\r\nimport Pagination from \"../../common/Pagination/Pagination\";\r\n\r\nlet Friends = (props) => {\r\n  let FriendsElements = props.friends.map((friend) => {\r\n    return (\r\n      <Friend\r\n        key={friend.id}\r\n        id={friend.id}\r\n        friendPhoto={\r\n          friend.photos.small != null ? friend.photos.small : friendPhoto\r\n        }\r\n        banner={friend.banner != null ? friend.banner : friendBanner}\r\n        friendName={friend.name}\r\n        friendStatus={friend.status != null ? friend.status : \"Friend status\"}\r\n        followed={friend.followed}\r\n        followingInProgress={props.followingInProgress}\r\n        //thunks\r\n        setFollow={props.setFollow}\r\n        setUnfollow={props.setUnfollow}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Pagination\r\n        totalFriends={props.totalFriends}\r\n        pageSize={props.pageSize}\r\n        currentPage={props.currentPage}\r\n        onPageNumberClick={props.onPageNumberClick}\r\n      />\r\n      <div className={stl.friendsGrid}>{FriendsElements}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","export const getFriends = (state) => {\r\n  return state.friendsPage.friends;\r\n};\r\nexport const getTotalFriends = (state) => {\r\n  return state.friendsPage.totalFriends;\r\n};\r\nexport const getPageSize = (state) => {\r\n  return state.friendsPage.pageSize;\r\n};\r\nexport const getCurrentPage = (state) => {\r\n  return state.friendsPage.currentPage;\r\n};\r\nexport const getIsLoading = (state) => {\r\n  return state.friendsPage.isLoading;\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.friendsPage.followingInProgress;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUsers, setFollow, setUnfollow } from \"../../Redux/friendsReducer\";\r\nimport Preloader from \"../../common/preloader/Preloader.jsx\";\r\nimport Friends from \"./Friends\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withRedirect\";\r\nimport {\r\n  getFriends,\r\n  getTotalFriends,\r\n  getPageSize,\r\n  getCurrentPage,\r\n  getIsLoading,\r\n  getFollowingInProgress,\r\n} from \"../../Redux/friendsSelectors\";\r\n\r\nclass FriendsContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(\r\n      this.props.currentPage,\r\n      this.props.currentPage,\r\n      this.props.pageSize\r\n    );\r\n  }\r\n\r\n  onPageNumberClick = (pageNumber) => {\r\n    this.props.getUsers(pageNumber, pageNumber, this.props.pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isLoading ? <Preloader /> : null}\r\n        <Friends\r\n          //data from state\r\n          pageSize={this.props.pageSize}\r\n          totalFriends={this.props.totalFriends}\r\n          onPageNumberClick={this.onPageNumberClick}\r\n          friends={this.props.friends}\r\n          currentPage={this.props.currentPage}\r\n          followingInProgress={this.props.followingInProgress}\r\n          //thunks\r\n          setFollow={this.props.setFollow}\r\n          setUnfollow={this.props.setUnfollow}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    friends: getFriends(state),\r\n    totalFriends: getTotalFriends(state),\r\n    pageSize: getPageSize(state),\r\n    currentPage: getCurrentPage(state),\r\n    isLoading: getIsLoading(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUsers, setFollow, setUnfollow }),\r\n  withAuthRedirect\r\n)(FriendsContainer);\r\n"],"sourceRoot":""}